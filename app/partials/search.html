<!-- We include the sidebar as it is shared across two screens. -->

<!-- TODO in Lab 5: Display the input box for search (you can ignore the type dropdown since BigOven does
not support it in free version) and list all the dishes that match the search. -->

<div id="searchView">
    <ng-include src="'partials/dinner-sidebar.html'" ng-controller="DinnerCtrl"></ng-include>

    <div class="col-md-10 search-bar bg-info">
        <h2>Select dish</h2>
        <hr>
        <div class="row">
            <div class="col-md-5">
                <div class="form-inline">
                    <input type="text" class="form-control" id="searchField" placeholder="Enter keywords" ng-model="query"></input>
                    <button id="searchButton" class="btn btn-primary" ng-click="search(query,type)">
                        <span class="glyphicon glyphicon-search"></span>
                        Search
                    </button>
                </div>
            </div>
            <div class="col-md-2">
                <!--<select class="form-control" id="selectTypes">
                </select>-->
                <select class="form-control" ng-model="type" name="dishType" ng-change="search(query, type)">
                    <option value="appetizer">Starter</option>
                    <option value="main course">Main</option>
                    <option value="dessert">Dessert</option>
                </select>
            </div>
        </div>
    </div>
    <div class="col-md-10 search-results-container">
      <!--  <div id="loadingIndicator" class="no-display">
            Loading ........
        </div>
        <div id="errorMessage" class="no-display text-alert">
            There has been an error, please try again later.
        </div>-->
        <div class="row" id="searchResults">
            <!-- DYNAMIC CONTENT GOES HERE -->
            <ul>
                <li ng-repeat="dish in dishes">
                    <img ng-src="https://spoonacular.com/recipeImages/{{dish.id}}-240x150.jpg"/>
                    {{dish.title}}
                    <a ng-href="#!/dish/{{dish.id}}/{{type}}">View more</a>
                    Dish ready in {{dish.readyInMinutes}} minutes
                </li>
            </ul>
        </div>
    </div>
</div>
